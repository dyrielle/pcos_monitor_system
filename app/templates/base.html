<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{% block title %}PCOS Monitor{% endblock %}</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Theme -->
  <style>
    :root{
      --navy: #0B1D39;
      --navy-600: #11294F;
      --silver: #D6D9DF;
      --light-bg: #F6F7FA;
      --text: #1C1F26;
      --muted: #6B7280;

      --pill-blue: #0d6efd;
      --pill-green: #198754;
      --pill-yellow: #f6c744;
    }

    body{
      background: var(--light-bg);
      color: var(--text);
    }

    /* make container wider (C=1420px) */
    .page-wrap{
      width: 100%;
      max-width: 100%;
      margin: 0 auto;
      padding-left: 3rem;
      padding-right: 3rem;
      padding-top: 2rem;
      padding-bottom: 3rem;
    }

    /* Navbar */
    .navbar {
      background: var(--navy);
    }
    .navbar-brand{
      color: #fff !important;
      font-weight: 700;
      letter-spacing: .3px;
    }
    .nav-title-small{
      font-size: .8rem;
      color: var(--silver);
      margin-left: .35rem;
      letter-spacing: .5px;
    }

    .pill-btn{
      border-radius: 999px;
      font-weight: 600;
      padding: .45rem .9rem;
      box-shadow: 0 2px 6px rgba(0,0,0,.08);
      border:none;
    }
    .pill-blue{ background: var(--pill-blue); color:#fff; }
    .pill-blue:hover{ background:#0b5ed7; color:#fff; }

    .pill-green{ background: var(--pill-green); color:#fff; }
    .pill-green:hover{ background:#157347; color:#fff; }

    .pill-yellow{ background: var(--pill-yellow); color:#1b1b1b; }
    .pill-yellow:hover{ background:#e6b838; color:#1b1b1b; }

    .pill-light{ background: var(--silver); color:#111827; }
    .pill-light:hover{ background:#c8ccd3; color:#111827; }

    .pill-outline{
      background: transparent;
      color: #fff;
      border: 1px solid #9aa3af;
    }
    .pill-outline:hover{
      background: #223355;
      color:#fff;
    }

    h1,h2,h3{
      color: var(--navy);
    }

    .card{
      border:1px solid #e5e7eb;
      border-radius: 14px;
    }
    .card-header{
      background:#ffffff;
      border-bottom:1px solid #eef0f4;
    }

    .flash-wrap { margin-top:1rem; }

    .site-footer{
      color: var(--muted);
      font-size:.9rem;
      padding:2rem 0 3rem;
      text-align:center;
    }

  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="{{ url_for('main.index') }}">
        PCOS Monitor <span class="nav-title-small">University Research Portal</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-end" id="mainNav">
        <ul class="navbar-nav align-items-lg-center gap-2">

          {% if current_user.is_authenticated %}

            <li class="nav-item"><a class="btn pill-btn pill-blue" href="{{ url_for('main.submit_data') }}">Submit Data</a></li>
            <li class="nav-item"><a class="btn pill-btn pill-green" href="/dashboard/">Dashboard</a></li>

            {% if current_user.is_admin %}
            <li class="nav-item"><a class="btn pill-btn pill-yellow" href="{{ url_for('admin.admin_home') }}">Admin</a></li>
            {% endif %}

            <li class="nav-item"><a class="btn pill-btn pill-outline" href="{{ url_for('auth.logout') }}">Logout</a></li>

          {% else %}
            <li class="nav-item"><a class="btn pill-btn pill-outline" href="{{ url_for('auth.login') }}">Login</a></li>
            <li class="nav-item"><a class="btn pill-btn pill-light" href="{{ url_for('auth.register') }}">Register</a></li>
          {% endif %}

        </ul>
      </div>
    </div>
  </nav>

  <div class="page-wrap">
    <div class="flash-wrap">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ 'warning' if category=='error' else category }} alert-dismissible fade show">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>

    {% block content %}{% endblock %}
  </div>

  <footer class="site-footer">
    <div class="container-fluid">
      <div>© {{ 2025 }} PCOS Monitor — Academic Research System</div>
      <div>Theme: Navy & Silver · Built with Flask & Bootstrap</div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>